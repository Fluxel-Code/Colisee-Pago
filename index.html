<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- *Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap"
      rel="stylesheet"
    />

    <!-- ?Select -->
    <link
      href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <link rel="stylesheet" href="./asset/css/styles.css" />
  </head>
  <body>
    <!-- *Me encuentro problemas con el fondo, la imagen es pequeña y en la vs movil da problemas con los tamaños -->
    <section
      id="FORM_principal"
      style="background-image: url(./asset/img/fondo-pago-provincial.jpg)"
    >
      <div class="capa">
        <div class="container">
          <h3 class="info">
            Realiza un donativo para que podamos continuar con nuestra labor
          </h3>

          <div class="columnas">
            <div class="formulario">
              <form action="">
                <div class="primera-parte">
                  <div class="content-input">
                    <span class="titulo"> DONATIVO SOLIDARIO </span>

                    <div class="textos">
                      <p>
                        Apoya regularmente nuestros programas o dona de manera
                        puntual a través de este formulario.
                      </p>
                    </div>

                    <div class="pagos">
                      <div class="pagos-input-btn">
                        <input type="tel" placeholder="0.00€" />

                        <div class="btns">
                          <button type="button" class="btn">15€</button>
                          <button type="button" class="btn">30€</button>
                          <button type="button" class="btn">60€</button>
                        </div>
                      </div>
                      <div class="aceptar-check-mes">
                        <!-- !Parte del check -->
                        <div class="check">Aqui va el check</div>
                        <label class="mensuales" for="mes">
                          Cada

                          <select
                            class="js-example-basic-single"
                            name="state"
                            id="mes"
                          >
                            <option value="Enero">Enero</option>
                            <option value="Febrero">Febrero</option>
                            <option value="Marzo">Marzo</option>
                            <option value="Abril">Abril</option>
                            <option value="Mayo">Mayo</option>
                            <option value="Junio">Junio</option>
                            <option value="Julio">Julio</option>
                            <option value="Agosto">Agosto</option>
                            <option value="Septiembre">Septiembre</option>
                            <option value="Octubre">Octubre</option>
                            <option value="Noviembre">Noviembre</option>
                            <option value="Diciembre">Diciembre</option>
                          </select>
                        </label>
                      </div>
                      <button type="button" class="btn-enviar">Donar</button>
                    </div>
                  </div>
                </div>

                <div class="segunda-parte">
                  <div class="content-input">
                    <span class="info-titulo"> Información personal </span>

                    <div class="inputs">
                      <label for="nombre">
                        Nombre
                        <input
                          id="nombre"
                          type="text"
                          class="inputInfo"
                          placeholder="Nombre"
                        />
                      </label>

                      <label for="apellido">
                        Apellido
                        <input
                          id="apellido"
                          type="text"
                          class="inputInfo"
                          placeholder="Apellido"
                        />
                      </label>

                      <label for="empresaNombre">
                        Nombre de la empresa
                        <input
                          id="empresaNombre"
                          type="text"
                          class="inputInfo"
                          placeholder="Nombre de la empresa"
                        />
                      </label>

                      <label for="correoElectronico">
                        Correo electrónico
                        <input
                          id="correoElectronico"
                          type="email"
                          class="inputInfo"
                          placeholder="Direccion de correo electrónico"
                        />
                      </label>

                      <label for="comentarioInfoPersonal">
                        Comentario
                        <textarea
                          name="comentario"
                          id="comentarioInfoPersonal"
                          rows="5"
                          class="inputInfo"
                          placeholder="Comentario"
                        ></textarea>
                      </label>
                    </div>
                  </div>
                </div>

                <div class="tercera-parte">
                  <div class="content-input">
                    <span class="info-titulo"
                      >Datos para certificado de donación</span
                    >

                    <!-- ! Faltan, algunos detalles del select-->
                    <label for="pais" class="pais">
                      País
                      <select
                        class="js-example-basic-single"
                        name="state"
                        id="pais"
                      >
                        <option value="España">España</option>
                        <option value="Italia">Italia</option>
                        <option value="Francia">Francia</option>
                        <option value="Chile">Chile</option>
                      </select>
                    </label>
                    <!-- ! -->

                    <div class="inputs">
                      <label for="direccion1">
                        Dirección línea 1
                        <input
                          id="direccion1"
                          type="text"
                          class="inputInfo"
                          placeholder="Dirección"
                        />
                      </label>

                      <label for="direccion2">
                        Dirección línea 2
                        <input
                          id="direccion2"
                          type="text"
                          class="inputInfo"
                          placeholder="Dirección"
                        />
                      </label>

                      <label for="Certificado">
                        DNI
                        <input
                          id="Certificado"
                          type="text"
                          class="inputInfo"
                          placeholder="DNI o NIF para el certificado de donaciones"
                        />
                      </label>
                    </div>

                    <div class="ciudadCodigo">
                      <label for="city" class="codigo">
                        Ciudad
                        <input
                          id="city"
                          type="text"
                          class="inputInfo"
                          placeholder="Ciudad"
                        />
                      </label>

                      <!-- ! Faltan, algunos detalles del select-->
                      <label for="provincia" class="codigo">
                        Provincia
                        <select
                          class="js-example-basic-single"
                          name="state"
                          id="provincia"
                        >
                          <option value="Granada">Granada</option>
                          <option value="Burgos">Burgos</option>
                          <option value="Albacete">Albacete</option>
                          <option value="Madrid">Madrid</option>
                        </select>
                      </label>
                      <!-- ! -->

                      <label for="CODIGO-POSTAL" class="codigo">
                        Código postal
                        <input
                          id="CODIGO-POSTAL"
                          type="text"
                          class="inputInfo"
                          placeholder="Código postal"
                        />
                      </label>
                    </div>

                    <!-- !Check -->

                    <button type="button" class="btn-resumen">
                      <div class="text">Resumen de la donación</div>

                      <div class="pago-puntual">
                        <strong>30€</strong>
                        <small>(Puntual)</small>
                      </div>
                    </button>
                  </div>
                </div>

                <button type="submit" class="btn-enviar">Donar</button>
              </form>
            </div>

            <div class="sabias-que">
              <h3 class="info-tex">
                ¿Sabes que puedes recuperar
                <b>hasta un 80% de tus donaciones?</b>
              </h3>

              <div class="textos">
                <p>
                  Los primeros 150€ que dones desgravarán el 80% y a partir de
                  150€ desgravarán el 35%. Además, si llevas más de 3 años
                  ayudando la Fundación Colisee con tus donaciones, tu
                  desgravación en este último tramo se incrementa hasta el 40%.
                </p>
              </div>

              <a href="#" class="btn-ver-mas"> MÁS INFORMACIÓN </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- *Select -->
    <script>
      init__select();

      // Select
      function init__select() {
        let selects = document.querySelectorAll(".select");
        let options = document.querySelectorAll(".option");
        let exist_open_select = document.querySelector(".select.open");

        // Open Select with toggle class open
        selects.forEach((item) => {
          item.addEventListener("click", (e) => {
            exist_open_select = document.querySelector(".select.open");

            // If Select Already Contains Open, Remove
            if (e.target.parentElement.classList.contains("open")) {
              e.target.parentElement.classList.remove("open");
            } else {
              e.target.parentElement.classList.add("open");
            }

            // Remove Previous Open Selects
            exist_open_select
              ? exist_open_select.classList.remove("open")
              : null;
          });
        });

        // Update Selected Value
        options.forEach((option) => {
          option.addEventListener("click", function (elem) {
            let this_select = elem.target.closest(".select");
            let this_input = this_select.querySelector("input");

            ///////////////////////////////////////////
            //////// Execute These After Click ////////
            ///////////////////////////////////////////

            // Remove Previous Active Option
            let alreadyActiveOption =
              this_select.querySelector(".option.active");
            alreadyActiveOption
              ? alreadyActiveOption.classList.remove("active")
              : null;
            alreadyActiveOption
              ? alreadyActiveOption.removeAttribute("selected")
              : null;

            // Add Active Option
            elem.target.classList.add("active");
            elem.target.setAttribute("selected", true);
            this_input.setAttribute("value", elem.target.innerText);

            // Close Select Options
            exist_open_select.classList.remove("open");
          });
        });

        // Close if click outside select
        document.addEventListener("click", (e) => {
          // Check if exist open select
          exist_open_select = document.querySelector(".select.open");
          if (exist_open_select) {
            // Check if Target is inside select
            let isSelect = exist_open_select.contains(e.target);
            isSelect ? null : exist_open_select.classList.remove("open");
          }
        });
      }
    </script>

    <!-- jquery -->

    <script>
      $(document).ready(function () {
        $("#pais").select2({
          minimumResultsForSearch: Infinity,
          placeholder: "Select an option",
        });
        $("#mes").select2({
          minimumResultsForSearch: Infinity,
          placeholder: "Select an option",
        });
        $("#provincia").select2({
          minimumResultsForSearch: Infinity,
          placeholder: "Select an option",
        });
      });
    </script>
  </body>
</html>
